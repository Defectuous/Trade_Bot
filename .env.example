# TAAPI.io API Configuration
# Get your free API key at: https://taapi.io/
TAAPI_KEY=your_taapi_api_key_here

# OpenAI API Configuration  
# Get your API key at: https://platform.openai.com/api-keys
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_MODEL=gpt-3.5-turbo

# Alpaca Trading API Configuration
# Get your keys at: https://alpaca.markets/
ALPACA_API_KEY=your_alpaca_api_key_here
ALPACA_SECRET_KEY=your_alpaca_secret_key_here

# Alpaca Environment (Paper Trading vs Live Trading)
# Use paper-api.alpaca.markets for testing, api.alpaca.markets for live trading
ALPACA_BASE_URL=https://paper-api.alpaca.markets
# For live trading use:
# ALPACA_BASE_URL=https://api.alpaca.markets

# Discord Notifications (Optional)
# Create webhook: Discord Server -> Settings -> Integrations -> Webhooks -> Create Webhook
# Leave blank to disable Discord notifications
DISCORD_WEBHOOK_URL=your_discord_webhook_url_here

# Trading Configuration
# Single symbol (legacy support)
#SYMBOL=AAPL
# Multiple symbols supported (comma-separated) - Enhanced feature
SYMBOLS=AAPL,TSLA,SPY

# Number of shares to trade per transaction
# Supports both whole shares (integer) and fractional shares (decimal)
# Examples: QTY=1 (whole share), QTY=0.5 (half share), QTY=1.25 (1.25 shares)
# Note: GPT can override this with dollar-based recommendations (e.g., "BUY $5000")
# 
# CONFIGURATION BY ACCOUNT SIZE:
# Small accounts ($100-500):   QTY=0.1-0.5  (for precise small amounts)
# Medium accounts ($500-2000): QTY=0.5-1.0  (moderate positions)
# Large accounts ($2000+):     QTY=1.0+     (full share positions)
QTY=1
# Set to true for testing without actual trades, false for live trading
DRY_RUN=true

# Position Concentration Risk Management
# Prevents over-concentration in any single stock for better diversification
ENABLE_POSITION_LIMITS=true

# Maximum percentage of portfolio that can be invested in a single stock (default: 20%)
# Examples: 10% (very conservative), 20% (balanced), 30% (aggressive)
# Small accounts might use higher percentages (25-30%) due to limited diversification options
MAX_POSITION_VALUE_PCT=20

# Maximum absolute number of shares per stock (default: 100)
# Helps prevent accidentally accumulating too many shares of expensive stocks
# Adjust based on account size and stock prices:
# Small accounts ($100-1000): 10-50 shares max
# Medium accounts ($1000-10000): 50-100 shares max  
# Large accounts ($10000+): 100+ shares max
MAX_POSITION_SHARES=100

# Position concentration examples:
# Conservative: MAX_POSITION_VALUE_PCT=15, MAX_POSITION_SHARES=50
# Balanced: MAX_POSITION_VALUE_PCT=20, MAX_POSITION_SHARES=100  
# Aggressive: MAX_POSITION_VALUE_PCT=25, MAX_POSITION_SHARES=200

# Technical Indicator Periods (Enhanced 7-Indicator System)
# Moving Average period (typical: 20, 50, 200)
MA_PERIOD=20
# Exponential Moving Average period (typical: 12, 26)  
EMA_PERIOD=12
# Average Directional Index period (typical: 14)
ADX_PERIOD=14
# Average Directional Index Rating period (typical: 14)
ADXR_PERIOD=14

# Technical Indicator Enable/Disable Controls
# Set to 'true' to enable, 'false' to disable individual indicators
# Disabling indicators can help reduce API calls and focus on specific signals
ENABLE_RSI=true
ENABLE_MA=true
ENABLE_EMA=true
ENABLE_PATTERN=true
ENABLE_ADX=true
ENABLE_ADXR=true
ENABLE_CANDLE=true

# Example Configurations:
# Conservative (RSI + MA only): Set ENABLE_RSI=true, ENABLE_MA=true, others=false
# Trend Focus (MA + EMA + ADX): Set ENABLE_MA=true, ENABLE_EMA=true, ENABLE_ADX=true, others=false
# Pattern Focus (RSI + Pattern): Set ENABLE_RSI=true, ENABLE_PATTERN=true, others=false
# Price Action Focus (RSI + Candle): Set ENABLE_RSI=true, ENABLE_CANDLE=true, others=false

# Logging Configuration
# Log levels: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Enable file logging to log/ directory with hourly rotation
# When enabled, logs are written to "TradeBot.log" and rotated hourly to "TradeBot.MMDDYY.HH.log"
# Example rotation: TradeBot.log -> TradeBot.100225.14.log at 3:00 PM
# This keeps the current log file simple while archiving hourly for analysis
LOG_TO_FILE=true

# API Error Handling & Retry Configuration
# Number of retry attempts for API failures (default: 3)
ALPACA_RETRY_ATTEMPTS=3
# Initial delay between retries in seconds (default: 1)
ALPACA_RETRY_DELAY=1
# Exponential backoff multiplier (default: 2)
ALPACA_RETRY_BACKOFF=2

# ========================================
# SMALL ACCOUNT OPTIMIZATION GUIDE
# ========================================
# For accounts with limited budgets ($100-500), use these settings:
#
# COST-OPTIMIZED SYMBOLS (choose 1-2):
# SYMBOLS=SPY,AAPL              # Liquid, affordable options
# SYMBOLS=QQQ,VTI               # ETF alternatives  
# SYMBOLS=WMT,KO                # Affordable individual stocks
#
# COST-OPTIMIZED INDICATORS (reduces API costs by 50-70%):
# ENABLE_RSI=true               # Essential momentum (keep)
# ENABLE_MA=true                # Essential trend (keep)
# ENABLE_EMA=false              # Similar to MA (disable to save costs)
# ENABLE_PATTERN=false          # Advanced feature (disable to save costs)
# ENABLE_ADX=false              # Advanced feature (disable to save costs)
# ENABLE_ADXR=false             # Advanced feature (disable to save costs)
# ENABLE_CANDLE=true            # Price action analysis (keep for better entries)
#
# ALTERNATIVE CONFIGURATIONS:
# Price Action Focus: ENABLE_RSI=true, ENABLE_CANDLE=true, others=false
# Trend Focus: ENABLE_MA=true, ENABLE_EMA=true, ENABLE_CANDLE=true, others=false
#
# FRACTIONAL SHARE SETTINGS:
# QTY=0.5                       # Half-share positions for $50-100 trades
# QTY=0.25                      # Quarter-share for $25-50 trades
# QTY=0.1                       # Tiny positions for testing or expensive stocks
#
# SAFETY FEATURES (automatically enabled for small accounts):
# - Enhanced GPT prompts with budget warnings
# - Automatic order capping to available cash  
# - Conservative position sizing recommendations
# - Fractional share support for precise amounts
# - Validation warnings when GPT over-recommends
#
# ESTIMATED MONTHLY COSTS:
# Full indicators (7): ~$18-25/month + OpenAI usage
# Reduced indicators (3): ~$8-12/month + OpenAI usage
# Minimal indicators (2): ~$5-8/month + OpenAI usage
# Initial delay between retries in seconds (default: 2)
ALPACA_RETRY_DELAY=2
# Backoff multiplier for exponential delay (default: 2)
ALPACA_RETRY_BACKOFF=2
